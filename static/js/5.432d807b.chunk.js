(this["webpackJsonptaswell-blog-typescript"]=this["webpackJsonptaswell-blog-typescript"]||[]).push([[5],{236:function(n,e,t){"use strict";var r=t(0);e.a=function(n){var e=n.text,o=void 0===e?"Loading...":e;return r.createElement("div",{style:{fontSize:15,textAlign:"center",width:"100%",padding:10}},"Loading..."===o&&r.createElement("img",{src:t(239),alt:"",style:{width:20,position:"absolute",marginLeft:-22,marginTop:-1}}),o)}},237:function(n,e,t){"use strict";var r=t(3),o=t(0);function i(){var n=Object(r.a)(["\n    font-weight: 700;\n    color: #ccc;\n    margin: 0 6px;\n"]);return i=function(){return n},n}var a=t(4).a.span(i());e.a=function(){return o.createElement(a,null,"\u2022")}},238:function(n,e,t){"use strict";var r=t(241);function o(n){this.message=n}o.prototype=new Error,o.prototype.name="InvalidTokenError",n.exports=function(n,e){if("string"!==typeof n)throw new o("Invalid token specified");var t=!0===(e=e||{}).header?0:1;try{return JSON.parse(r(n.split(".")[t]))}catch(i){throw new o("Invalid token specified: "+i.message)}},n.exports.InvalidTokenError=o},239:function(n,e,t){n.exports=t.p+"static/media/loading.365b0ce0.svg"},240:function(n,e,t){"use strict";var r=t(243),o=t(17),i=t(3),a=t(0),c=t.n(a),l=t(4),u=t(237),s=t(238),f=t.n(s),d=t(43),p=t.n(d),g=t(33),m=t(63);function b(){var n=Object(i.a)(["\n    position: absolute;\n    right: 0px;\n    bottom: 0px;\n    background: #00000087;\n    width: 30px;\n    height: 30px;\n    color: #fff;\n    text-align: center;\n    line-height: 30px;\n    font-size: 20px;\n  "]);return b=function(){return n},n}function h(){var n=Object(i.a)(["\n    float: left;\n    font-size: 12px;\n    height: 20px;\n    line-height: 20px;\n    margin-right: 10px;\n    transition: all 0.2s;\n    font-weight: bold;\n    color: #666;\n    :hover {\n      cursor: pointer;\n      text-decoration: underline;\n    }\n    > i {\n      font-size: 12px;\n      margin-right: 3px;\n    }\n  "]);return h=function(){return n},n}function v(){var n=Object(i.a)(["\n    font-weight: bold;\n    margin-right: 3px;\n  "]);return v=function(){return n},n}function x(){var n=Object(i.a)(["\n    font-size: 12px;\n    color: rgb(0 0 0);\n    line-height: 1.5;\n    letter-spacing: 1px;\n    word-break: break-all;\n    background: rgb(204 204 204 / 0.22);\n    padding: 10px;\n    opacity: 0.8;\n    border-left: 5px solid #ccc;\n  "]);return x=function(){return n},n}function w(){var n=Object(i.a)(["\n    display: flex;\n    justify-content: space-between;\n    font-size: 12px;\n    color: rgb(68 68 68);\n    padding: 5px 0px;\n  "]);return w=function(){return n},n}function O(){var n=Object(i.a)(["\n    font-weight: bold;\n    font-size: 17px;\n    color: #222;\n    margin-bottom: 5px;\n    text-decoration: none;\n    cursor: pointer;\n    :hover {\n      text-decoration: underline;\n    }\n  "]);return O=function(){return n},n}function E(){var n=Object(i.a)(["\n    flex: 1;\n  "]);return E=function(){return n},n}function j(){var n=Object(i.a)(["\n    width: 40px;\n    border-radius: 10px;\n    margin-right: 12px;\n    cursor: pointer;\n  "]);return j=function(){return n},n}function y(){var n=Object(i.a)(["\n    padding-top: 3px;\n  "]);return y=function(){return n},n}function k(){var n=Object(i.a)(["\n    overflow: hidden;\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 10px;\n    padding-bottom: 13px;\n    border-bottom: 2px dashed rgb(185 185 185);\n    margin: 15px;\n  "]);return k=function(){return n},n}var F={Content:l.a.div(k()),Imgbox:l.a.div(y()),Img:l.a.img(j()),Box:l.a.div(E()),Title:l.a.a(O()),Information:l.a.div(w()),PreviewContent:l.a.div(x()),CommentNum:l.a.span(v()),Tag:l.a.div(h()),NumTips:l.a.div(b()),ImgContent:l.a.div({width:200,height:200,background:"#000",marginRight:5,marginBottom:5,overflow:"hidden",position:"relative",cursor:"pointer",transition:"all 0.2s",opacity:.9}),FucBtn:l.a.div({padding:5,transition:"all 0.2s",float:"right",marginLeft:10,background:"#eee",cursor:"pointer",":hover":{background:"#ccc"}})};e.a=function(n){var e=n.avatar_url,t=n.title,i=n.name,l=n.create_time,s=n.preview_content,d=n.preview_img,b=n.comment_num,h=n.id,v=n.simple,x=n.tag,w=void 0===x?"":x,O=n.uid,E=n.hidePersonInfo,j=void 0!==E&&E,y=Object(a.useState)({}),k=Object(o.a)(y,2),C=k[0],I=k[1],B=Object(a.useContext)(m.a),L=B.setArticleInfo,N=B.setShowPublish;return Object(a.useEffect)((function(){try{var n=f()(p.a.get("twa"));I(n)}catch(e){}}),[]),c.a.createElement(F.Content,null,!j&&c.a.createElement(F.Imgbox,null,c.a.createElement(F.Img,{src:e,onError:function(n){n.target.onerror=null,n.target.src="".concat(g.a,"/icon/badimg.png")},onClick:function(){window.open("#/users/".concat(i))}})),c.a.createElement(F.Box,null,c.a.createElement(F.Title,{onClick:function(){window.open("#/article/".concat(h))}},t||"NO TITLE"),v&&c.a.createElement(c.a.Fragment,null,("57855C971FF740B46EAE8F7FEBEC5D35"===C.uid||O===C.uid)&&c.a.createElement(F.FucBtn,{onClick:function(){L(Object(r.a)({},n,{update:!0})),N(!0)}},c.a.createElement("i",{className:"iconfont icon-edit"})),"57855C971FF740B46EAE8F7FEBEC5D35"===C.uid&&c.a.createElement(F.FucBtn,{onClick:function(){window.confirm("Delete?")&&Object(g.r)({id:h}).then((function(){window.location.reload()}))}},c.a.createElement("i",{className:"iconfont  icon-delete"}))),c.a.createElement(F.Information,null,j?c.a.createElement("div",null,l):c.a.createElement("div",null,i,c.a.createElement(u.a,null),l),b>0&&c.a.createElement("div",null,c.a.createElement(F.CommentNum,null,b),"comment",b>1&&"s")),!v&&(s||"").replace(/\s+/g,"")&&c.a.createElement(F.PreviewContent,null,s),!v&&d&&c.a.createElement("div",{style:{marginTop:5,display:"flex"}},d.length>0&&d.slice(0,3).map((function(n,e){return c.a.createElement(F.ImgContent,{key:e,onClick:function(){window.open(n.replace("?x-oss-process=style/small",""))}},c.a.createElement("img",{src:n,onError:function(n){n.target.onerror=null,n.target.src="".concat(g.a,"/icon/badimg.png")},alt:"",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",width:"100%",transition:"all 0.2s"}}),d.length>3&&2===e&&c.a.createElement(F.NumTips,null,d.length))}))),c.a.createElement("div",{style:{overflow:"hidden"}},w&&w.split("|").map((function(n,e){return c.a.createElement(F.Tag,{key:e,onClick:function(){window.location.href.indexOf("searchresult")>=0?window.location.replace("#/searchresult/".concat(n)):window.open("#/searchresult/".concat(n))}},c.a.createElement("i",{className:"iconfont icon-tag"}),n)})))))}},241:function(n,e,t){var r=t(242);n.exports=function(n){var e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(r(n).replace(/(.)/g,(function(n,e){var t=e.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(e)}catch(t){return r(e)}}},242:function(n,e){function t(n){this.message=n}t.prototype=new Error,t.prototype.name="InvalidCharacterError",n.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||function(n){var e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,i=0,a=0,c="";o=e.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?c+=String.fromCharCode(255&r>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return c}},243:function(n,e,t){"use strict";function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}t.d(e,"a",(function(){return i}))},252:function(n,e,t){"use strict";t.r(e);var r=t(17),o=t(3),i=t(0),a=t.n(i),c=t(4),l=t(33),u=t(240),s=t(236);function f(){var n=Object(o.a)(["\n    cursor: pointer;\n    :hover {\n      text-decoration: underline;\n    }\n  "]);return f=function(){return n},n}function d(){var n=Object(o.a)(["\n    margin-right: 3px;\n  "]);return d=function(){return n},n}function p(){var n=Object(o.a)(["\n    height: 30px;\n    line-height: 30px;\n    background: #eee;\n    font-size: 13px;\n    padding: 0px 10px;\n    cursor: pointer;\n    transition: all 0.2s;\n    :hover {\n      background: #ccc;\n      color: #fff;\n    }\n  "]);return p=function(){return n},n}function g(){var n=Object(o.a)(["\n    align-items: center;\n    display: flex;\n  "]);return g=function(){return n},n}function m(){var n=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  "]);return m=function(){return n},n}function b(){var n=Object(o.a)(["\n    display: flex;\n    flex: 1;\n    justify-content: space-between;\n    padding: 0px 15px;\n  "]);return b=function(){return n},n}function h(){var n=Object(o.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50px;\n    cursor: pointer;\n  "]);return h=function(){return n},n}function v(){var n=Object(o.a)(["\n    display: flex;\n    width: 400px;\n    margin: 10px auto;\n    position: relative;\n  "]);return v=function(){return n},n}var x={Box:c.a.div(v()),Img:c.a.img(h()),Content:c.a.div(b()),B1:c.a.div(m()),B2:c.a.div(g()),Btn:c.a.div(p()),EachIcon:c.a.i(d()),Name:c.a.div(f())},w=function(n){var e=n.name,t=n.avatar_url,r=n.following,o=n.followers,a=n.isMe,c=n.isLogin,l=n.isMyFollowing,u=n.isMyFollowers,s=n.setFollow,f=n.originUid,d="FOLLOW",p=!1;return l&&(d="UNFOLLOW"),l&&u&&(d="UNFOLLOW",p=!0),i.createElement(x.Box,null,i.createElement(x.Img,{src:t,onClick:function(){window.open("#/users/".concat(e))}}),i.createElement(x.Content,null,i.createElement(x.B1,null,i.createElement(x.Name,{onClick:function(){window.open("#/users/".concat(e))}},e),i.createElement("div",{style:{fontSize:12,color:"#aaa"}},"Following - ",r,",Followers - ",o)),i.createElement(x.B2,null,!a&&c&&i.createElement(x.Btn,{onClick:function(){s(f,d)}},p&&i.createElement(x.EachIcon,{className:"iconfont icon-iconfonthuxiangguanzhu"}),d),!c&&i.createElement(x.Btn,{onClick:function(){var n=window.location.hash.replace("#","$-$-$-$-$"),e="https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101503025&redirect_uri="+encodeURI("http://api.taswell.cn/qqlogin?link="+n)+"&state=0";window.location.href=e}},"FOLLOW"))))},O=t(238),E=t.n(O),j=t(43),y=t.n(j);function k(){var n=Object(o.a)(["\n    font-size: 14px;\n    float: left;\n    width: 100px;\n    text-align: center;\n    padding-bottom: 5px;\n    border-bottom: 2px solid #fff;\n    transition: all 0.2s;\n    color: #aaa;\n    cursor: pointer;\n    :hover {\n      color: #333;\n    }\n    &.active {\n      color: #333;\n      border-bottom: 2px solid #000;\n    }\n  "]);return k=function(){return n},n}function F(){var n=Object(o.a)(["\n    overflow: hidden;\n    width: 300px;\n    margin: 0 auto;\n  "]);return F=function(){return n},n}function C(){var n=Object(o.a)(["\n    position: absolute;\n    color: #c3c3c3;\n    font-size: 14px;\n    bottom: 11px;\n    right: 21px;\n    border: 1px solid #ccc;\n    padding: 3px 10px;\n    cursor: pointer;\n    transition: all 0.2s;\n    :hover {\n      background: #ffffff3d;\n      color: #fff;\n    }\n  "]);return C=function(){return n},n}function I(){var n=Object(o.a)(["\n    position: absolute;\n    color: #c3c3c3;\n    font-size: 14px;\n    bottom: 4px;\n    left: 140px;\n  "]);return I=function(){return n},n}function B(){var n=Object(o.a)(["\n    position: absolute;\n    color: #fff;\n    font-size: 21px;\n    bottom: 22px;\n    left: 140px;\n  "]);return B=function(){return n},n}function L(){var n=Object(o.a)(["\n    width: 100px;\n    height: 100px;\n    position: absolute;\n    bottom: -41px;\n    left: 30px;\n    border-radius: 100px;\n  "]);return L=function(){return n},n}function N(){var n=Object(o.a)(["\n    position: relative;\n    background: url(","/34669673/1583806297795bg2.png);\n    background-size: 100%;\n    background-position-y: 361px;\n    height: 200px;\n    margin-bottom: 20px;\n  "]);return N=function(){return n},n}function T(){var n=Object(o.a)(["\n    text-align: center;\n    width: 100%;\n  "]);return T=function(){return n},n}function _(){var n=Object(o.a)(["\n    font-weight: bold;\n  "]);return _=function(){return n},n}function S(){var n=Object(o.a)(["\n    text-align: center;\n    margin: 10px;\n    font-size: 13px;\n  "]);return S=function(){return n},n}function U(){var n=Object(o.a)(["\n    width: 800px;\n    background: rgb(255 255 255 / 88%);\n    backdrop-filter: blur(5px);\n    overflow: hidden;\n    margin: 0 auto;\n  "]);return U=function(){return n},n}var z={Content:c.a.div(U()),Empty:c.a.div(S()),Num:c.a.span(_()),Loading:c.a.div(T()),UserInfoContent:c.a.div(N(),l.a),UserIcon:c.a.img(L()),UserName:c.a.div(B()),UserEmail:c.a.div(I()),FucBtn:c.a.div(C()),TagBtnBox:c.a.div(F()),TagBtn:c.a.div(k())},P=["","?following","?followers"];e.default=function(n){var e=n.match,t=n.history.location.search,o=e.params.name,c=Object(i.useState)(P.indexOf(t)),f=Object(r.a)(c,2),d=f[0],p=f[1],g=Object(i.useState)({}),m=Object(r.a)(g,2),b=m[0],h=m[1],v=Object(i.useState)({}),x=Object(r.a)(v,2),O=x[0],j=x[1],k=Object(i.useState)(!1),F=Object(r.a)(k,2),C=F[0],I=F[1],B=Object(i.useState)(""),L=Object(r.a)(B,2),N=L[0],T=L[1],_=Object(i.useState)([]),S=Object(r.a)(_,2),U=S[0],$=S[1],q=Object(i.useState)([]),A=Object(r.a)(q,2),M=A[0],W=A[1],D=Object(i.useState)(!1),R=Object(r.a)(D,2),G=R[0],J=R[1],H=Object(i.useState)([]),K=Object(r.a)(H,2),Q=K[0],V=K[1],X=Object(i.useState)([]),Y=Object(r.a)(X,2),Z=Y[0],nn=Y[1];Object(i.useEffect)((function(){try{var n=E()(y.a.get("twa"));console.log(n);var e=n.uid,t=void 0===e?"":e,r=n.name,i=void 0===r?"":r;t&&(j(n),I(!0),Object(l.k)().then((function(n){var e=n.following,t=void 0===e?[]:e,r=n.followers,o=void 0===r?[]:r,i=[],a=[];t.forEach((function(n){return i.push(n.target_uid)})),o.forEach((function(n){return a.push(n.uid)})),V(i),nn(a)}))),J(i===o)}catch(a){console.log("GET LOGIN DATA FAIL")}Object(l.q)({name:o}).then((function(n){h(n)})),Object(l.c)({name:o}).then((function(n){T(n)})),Object(l.j)({name:o}).then((function(n){$(n)})),Object(l.i)({name:o}).then((function(n){W(n)}))}),[o]);var en=function(n){n!==d&&(p(n),window.location.href="#/users/".concat(o).concat(P[n]))},tn=function(){Object(l.k)().then((function(n){var e=n.following,t=void 0===e?[]:e,r=n.followers,o=void 0===r?[]:r,i=[],a=[];t.forEach((function(n){return i.push(n.target_uid)})),o.forEach((function(n){return a.push(n.uid)})),V(i),nn(a)}))},rn=function(n,e){Object(l.v)({target_uid:n,type:e}).then((function(){tn()}))};return a.a.createElement(a.a.Fragment,null,Object.keys(b||{}).length>0?a.a.createElement(z.Content,null,a.a.createElement(z.UserInfoContent,null,a.a.createElement(z.UserIcon,{src:b.avatar_url,alt:""}),a.a.createElement(z.UserName,null,b.name||"NOTHING"),a.a.createElement(z.UserEmail,null,b.email||"NOEmail",",Following - ",U.length,",Followers - ",M.length),C&&!G&&a.a.createElement(z.FucBtn,{onClick:function(){Object(l.v)({target_uid:b.uid,type:Q.indexOf(b.uid)>=0?"UNFOLLOW":"FOLLOW"}).then((function(){tn(),Object(l.i)({name:o}).then((function(n){W(n)}))}))}},Q.indexOf(b.uid)>=0?"UNFOLLOW":"FOLLOW"),!C&&a.a.createElement(z.FucBtn,{onClick:function(){var n=window.location.hash.replace("#","$-$-$-$-$"),e="https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101503025&redirect_uri="+encodeURI("http://api.taswell.cn/qqlogin?link="+n)+"&state=0";window.location.href=e}},"FOLLOW")),a.a.createElement(z.TagBtnBox,null,a.a.createElement(z.TagBtn,{onClick:function(){en(0)},className:0===d&&"active"},"Releases"),a.a.createElement(z.TagBtn,{onClick:function(){en(1)},className:1===d&&"active"},"Following"),a.a.createElement(z.TagBtn,{onClick:function(){en(2)},className:2===d&&"active"},"Followers")),0===d&&(N?N.length<=0?a.a.createElement(s.a,{text:"- No Release -"}):a.a.createElement("div",null,N.map((function(n,e){return a.a.createElement(u.a,Object.assign({key:e},n,{hidePersonInfo:!0}))}))):a.a.createElement(s.a,null)),1===d&&(U?U.length<=0?a.a.createElement(s.a,{text:"- No Following -"}):a.a.createElement("div",null,U.map((function(n,e){return a.a.createElement(w,Object.assign({key:e},n,{originUid:n.target_uid,isMe:O.uid===n.target_uid,isLogin:C,isMyFollowing:Q.indexOf(n.target_uid)>=0,isMyFollowers:Z.indexOf(n.target_uid)>=0,setFollow:rn}))}))):a.a.createElement(s.a,null)),2===d&&(M?M.length<=0?a.a.createElement(s.a,{text:"- No Followers -"}):a.a.createElement("div",null,M.map((function(n,e){return a.a.createElement(w,Object.assign({key:e},n,{originUid:n.uid,isMe:O.uid===n.uid,isLogin:C,isMyFollowing:Q.indexOf(n.uid)>=0,isMyFollowers:Z.indexOf(n.uid)>=0,setFollow:rn}))}))):a.a.createElement(s.a,null))):a.a.createElement(s.a,{text:"- User does not exist -"}))}}}]);
//# sourceMappingURL=5.432d807b.chunk.js.map